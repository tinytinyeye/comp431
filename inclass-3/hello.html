<!DOCTYPE html>
<html lang="en-US">

<head>
</head>

<body onload="timeoutCounter()">

<h1>Kyoto Trip</h1>

<p>Qixuan Huang</p>
<br/>
<img src="https://c2.staticflickr.com/4/3841/14616029050_eb6b4086fd_b.jpg" width="400px" title="Kyoto">
<p>I went to Kyoto this summer and Fujiminari Daisha is one of my favorite place. The place is great and I took lots of pictures there. Strongly recommend to get there by JR. A link can be found <a href="http://inari.jp">here</a>.</p>


<p>My facebook is <a href="https://www.facebook.com/frankie.huang.31">Frankie Huang</a></p>

<textarea rows="4" cols="50" id="comment">
Leave your comment here!
</textarea>

</br>

<span id="indicator">15</span>

<button type="button">Submit!</button>
<input type="button" value="Clear" onclick="erase()">
<input type="button" value="Pause" onclick="pauseCounter()">
<input type="button" value="Resume" onclick="resumeCounter()">


<script type="text/javascript">

	var isPaused = false

	function erase() {
		document.getElementById("comment").value = ""
	}

	function redirectAlert() {
		window.alert("the page will redirect when the counter reaches zero")
	}

	function timeoutCounter() {
		setTimeout(redirectAlert, 5000)
		setInterval(counterDisplay, 1000)
	}

	function counterDisplay() {
		if (!isPaused) {
			var before = document.getElementById("indicator").innerHTML
			if (before != 0) {
				var after = parseInt(before) - 1
				document.getElementById("indicator").innerHTML = after
			} else {
				window.location.replace("http://www.clear.rice.edu/comp431/sample/hello.html")
			}
		}
	}

	function pauseCounter() {
		isPaused = true
	}

	function resumeCounter() {
		isPaused = false
	}
</script>
</body>
</html>